{%  extends 'api/main.html' %}

{% block content %}

<br>

<div class="row">
	<div class="col-md">
		<div>
			<div class="card bg-dark text-white card-header">
			<h5>{{customer.name}}</h5>
		</div>
		<div class="card-body">
			<a class="btn btn-secondary  btn-sm btn-block" href="{% url 'update_customer' customer.id %}">Update Customer</a>
			<a class="btn btn-secondary  btn-sm btn-block" href="{% url 'create_order' customer.id %}">Place Order</a>
		</div>
		</div>
	</div>

	<div class="col-md">
		<div class="card bg-dark text-white card-header">
			<h5>Contact Info:</h5>
		</div>
		<div class="card-body">
			<p>Email: {{customer.email}}</p>
			<p>Phone: {{customer.phone}}</p>
		</div>
	</div>

	<div class="col-md">
		<div class="card bg-dark text-white card-header">
			<h5>Total Orders:</h5>
		</div>
		<div class="card-body">
			<h1 style="text-align: center;padding: 10px">{{total_orders}}</h1>
		</div>
	</div>
</div>

<br>

<div class="row">
	<div class="col">
		<div class="card card-body">
			<form method="get">
				{{myFilter.form}}
				<button class="btn btn-secondary" type="submit">Search</button>
			</form>
		</div>
	</div>
</div>

<br>

<div class="row">
	<div class="col-md">
		<div class="card card-body">
			<table class="table table-sm table-borderless">
				<thead class="thead-dark">
					<tr>
						<th scope="col">id</th>
						<th>Product</th>
						<th>Note</th>
						<th>Date Ordered</th>
						<th>Status</th>
						<th>Update</th>
						<th>Delete</th>
					</tr>
				</thead>
				{% for order in orders %}
					<tr>
						<th scope="row">{{order.id}}</th>
						<td>{{order.product}}</td>
						<td>{{order.note}}</td>
						<td>{{order.date_created}}</td>
						<td>{{order.status}}</td>
						<td><a class="btn btn-sm btn-info" href="{% url 'update_order' order.id %}">Update</a></td>
						<td><a class="btn btn-sm btn-danger" href="{%url 'delete_order' order.id %}">Delete</a></td>
					</tr>
				{% endfor %}
			</table>
		</div>
	</div>
</div>

{% endblock %}